<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- library.book form view -->
    <record id="library_book_view_form" model="ir.ui.view">
        <field name="name">library.book.view.form</field>
        <field name="model">library.book</field>
        <field name="arch" type="xml">
            <form string="Book">
                <sheet>
                    <group>

                        <group>
                            <field name="name"/>
                            <field name="price"/>
                            <field name="edition"/>
                        </group>


                        <group>
                            <field name="book_type"/>
                            <field name="web"/>
                            <field name="is_purchased"/>
                            <field name="date"/>
                        </group>

                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- library.book tree view -->
    <record id="library_book_view_tree" model="ir.ui.view">
        <field name="name">library.book.view.tree</field>
        <field name="model">library.book</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="price"/>
                <field name="edition"/>
                <field name="book_type"/>
                <field name="web"/>
                <field name="is_purchased"/>
                <field name="date"/>

            </tree>
        </field>
    </record>

    <!-- library.books action window -->
    <record id="library_book_action" model="ir.actions.act_window">
        <field name="name">Books</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">library.book</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
            Start by creating a book
            </p>
            <p>
                <!-- More details about what a user can do with this object will be OK -->

            </p>
        </field>
    </record>

    <!-- VISTAS DEL MODELO LIBRARY BOOK GENRE -->

    <!-- library.book.genre tree view -->
    <record id="library_book_genre_view_tree" model="ir.ui.view">
        <field name="name">library_book_genre.view.tree</field>
        <field name="model">library.book.genre</field>
        <field name="arch" type="xml">
            <tree editable = "bottom">
                <field name="name"/>
            </tree>
        </field>
    </record>

    <!-- VISTAS DEL MODELO RES PARTNER-->

    <!-- res.partner inherit search view -->
    <record id="res_partner_view_search" model="ir.ui.view">
        <field name="name">res_partner.inherit.view.search</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_res_partner_filter"/>
        <field name="arch" type="xml">

            <xpath expr="//filter[@name='type_company']" position="after">

                <filter string="Partners" name="partner_search" domain="[('is_partner', '=', True)]"/>
                <filter string="Authors" name="author_search" domain="[('is_author', '=', True)]"/>

            </xpath>

        </field>
    </record>


    <!-- res.partner tree view -->
    <record id="res_partner_view_tree" model="ir.ui.view">
        <field name="name">res_partner.view.tree</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <tree >
                <field name="name"/>
                <field name="is_partner"/>
                <field name="partner_number"/>
                <field name="is_author"/>
            </tree>
        </field>
    </record>


    <!-- ACCIONES DEL MENU -->
    <record id="library_genre_action" model="ir.actions.act_window">
        <field name="name">Genere</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">library.book.genre</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="library_book_genre_view_tree"/>

    </record>

    <record id="library_authors_action" model="ir.actions.act_window">
        <field name="name">Authors</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">tree,form,kanban</field>
        <field name="context">{'search_default_author_search' : 1 ,'default_is_author' : 1}</field>
        <field name="view_id" ref="res_partner_view_tree"/>
    </record>


    <record id="library_partners_action" model="ir.actions.act_window">
        <field name="name">Partners</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">tree,form,kanban</field>
        <field name="context">{'search_default_partner_search' : 1 , 'default_is_partner' : 1}</field>
        <field name="view_id" ref="res_partner_view_tree"/>

    </record>


    <!-- Botón en el menú principal del odoo -->
    <menuitem id="library_book_menu_act" name="Library" web_icon="library,static/menu_icon.png" sequence="10"/>

    <!-- Botón Data en donde está el desplegable -->
    <menuitem id="menu_library_data" name="Data" parent="library_book_menu_act" sequence="1"/>

    <!-- Submenús adicionales para Libros, Géneros, Autores y Socios -->
    <menuitem id="menu_library_books" name="Books" parent="menu_library_data" action="library_book_action" sequence="1"/>
    <menuitem id="menu_library_genres" name="Genere" parent="menu_library_data" action="library_genre_action" sequence="2"/>
    <menuitem id="menu_library_authors" name="Authors" parent="menu_library_data" action="library_authors_action" sequence="3"/>
    <menuitem id="menu_library_partners" name="Partners" parent="menu_library_data" action="library_partners_action" sequence="4"/>




</odoo>
 
